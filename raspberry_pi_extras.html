<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="assets/portal.ico">
  <title>Raspberry Pi -- Homelab | Hylown</title>
  <link rel="stylesheet" href="assets/css/hylowncom.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
</head>
<body>

  <header class="header top-bar">
    <div class="wrapper no-pad">
      <ul class="navigation">
        <li class="hamburger-icon"><a href="javascript:void(0)" onclick="toggleNav()"><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span></a></li>
        <li style="padding:0;"><a style="padding:0;margin:0 10;" href="https://hylown.com"><img src="assets/portal.png" width="31px" height="31px"></a></li>
        <li><a href="homelab.html">Homelab</a></li>
        <li><a href="apps.html">Apps</a></li>
        <li><a href="consulting.html">Consulting</a></li>
        <li><a style="font-size:1.5em;" href=""><i class="bi bi-linkedin"></i></a></li>
        <li><a style="font-size:1.5em;" href="https://github.com/BStew00/hylowncom_site"><i class="bi bi-github"></i></a></li>
        <li><a href="buy_us_a_coffee.html">Support Us</a></li>
      </ul>
    </div>
  </header>

  <div class="container">
    <main class="main">
        <div class="main__inner grid">
            <div class="sidebar sidebar--primary" id="sidebar--primary">
                <div class="sidebar__scrollwrap">
                    <div class="sidebar__inner sidebar__inner-left">
                      <div>
                        <label>Homelab</label>
                        <a href="javascript:void(0)" class="closebtn" id="closebtn" onclick="toggleNav()" style="display:none;">&times;</a>
                      </div>
                      <ul class="side-nav">
                        <li><a id="Home" href="homelab.html">Home</a></li>
                        <li><a id="SSH" href="ssh.html">SSH</a></li>
                        <li><a id="RaspberryPi" href="raspberry_pi.html">Raspberry Pi</a>
                          <ul class="side-nav side-nav-2">
                            <li><a id="RaspberryPi-Initialize" href="raspberry_pi_initialize.html">Initialize</a></li>
                            <li><a id="RaspberryPi-PCIE" href="raspberry_pi_pcie.html">PCIe Boot NVMe</a></li>
                            <li><a id="Extras" href="raspberry_pi_extras.html">Extras</a></li>
                          </ul>
                        </li>
                        <li><a id="LocalHTTPServer" href="local_http_server.html">Local HTTP Server</a></li>
                        <li><a id="LocalGitServer" href="local_git_server.html">Local Git Server</a></li>
                        <li><a id="RemoteGitServer" href="remote_git_server.html">Remote Git Server</a></li>
                      </ul>
                    </div>
                </div>
            </div>
            <div class="sidebar sidebar--secondary" style="top:48px;">
                <div class="sidebar__scrollwrap">
                    <div class="sidebar__inner">
                      <div>
                        <label>On this page</label>
                      </div>
                      <ul class="side-nav template__nav" id="right-nav">
                        <li><a href="">back to top</a></li>
                        <li class="template__nav-item"><a href="#remote-desktop">Remote Desktop</a></li>
<li class="template__nav-item"><a href="#raid">RAID</a></li>
<li class="template__nav-item"><a href="#python">Python</a></li>
<li class="template__nav-item"><a href="#vscode">VScode</a></li>
<li class="template__nav-item"><a href="#mkdocs">Mkdocs</a></li>
                      </ul>
                    </div>
                </div>
            </div>
            <div class="content">
              <article>
                <a class="source-button" href="https://github.com/BStew00/hylowncom_site" title="Edit this page"><svg xmlns="http://www.w3.org/2000/svg" width="30px" height="30px" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"></path></svg></a>
                <a class="source-button" href="raspberry_pi_extras.md" title="View source of this page"><svg xmlns="http://www.w3.org/2000/svg" width="30px" height="30px" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"></path></svg></a>
                <br>
                <h2 class="template__section" id="remote-desktop">Remote Desktop</h2>
<p>We use RealVNC.</p>
<p>Raspberry Pi OS has wayvnc running by default; need to stop it:</p>
<pre><code class="language-bash">$ sudo systemctl stop wayvnc
$ sudo systemctl disable wayvnc
</code></pre>
<p>Enable VNC and use X11 instead of Wayland:</p>
<pre><code class="language-bash">$ sudo raspi-config
</code></pre>
<pre><code>&gt;&gt; Interface Options
&gt;&gt; VNC 
&gt;&gt; Yes (to enable VNC)

&gt;&gt; Advanced Options
&gt;&gt; Wayland
&gt;&gt; X11 Openbox manager/backend
</code></pre>
<p>After installing RealVNC on another machine, e.g. a Windows laptop, you should now be able to make a remote desktop connection to the Raspberry Pi.</p>
<p>Note that you can also enable VNC from the desktop: </p>
<pre><code class="language-markdown">&gt;&gt; Raspberry Pi icon 
&gt;&gt; Preferences 
&gt;&gt; Raspberry Pi Configuration 
&gt;&gt; Interfaces tab 
&gt;&gt; VNC radio button
</code></pre>
<h2 class="template__section" id="raid">RAID</h2>
<p><a href="https://www.jeffgeerling.com/blog/2021/htgwa-create-raid-array-linux-mdadm">https://www.jeffgeerling.com/blog/2021/htgwa-create-raid-array-linux-mdadm</a></p>
<p>I followed this exactly, except a couple places to set up RAID 5 instead of RAID 0.</p>
<p>The main commands are:</p>
<pre><code class="language-bash">$ sudo apt update
$ sudo apt install mdadm

$ lsblk # to view your drives

$ sudo mdadm --create --verbose /dev/md0 --level=5 --raid-devices=4 /dev/sda /dev/sdb /dev/sdc /dev/sdd

$ sudo mdadm --detail --scan --verbose | sudo tee -a /etc/mdadm/mdadm.conf

$ sudo mkfs.ext4 /dev/md0

$ sudo mkdir /mnt/raid5
$ sudo mount /dev/md0 /mnt/raid5
</code></pre>
<h2 class="template__section" id="python">Python</h2>
<p>As per the <a href="https://www.raspberrypi.com/documentation/computers/os.html#use-python-on-a-raspberry-pi">Raspberry Pi docs</a> do not use <code>pip</code> to install python packages.  use <code>apt</code>, e.g. </p>
<pre><code class="language-bash">$ sudo apt install python3-build-hat
</code></pre>
<p>Can search for packages with <code>apt-cache search "&lt;keyword&gt;"</code>, e.g. </p>
<pre><code class="language-bash">$ apt-cache search &quot;python3-flask&quot;
</code></pre>
<p>The utilities <code>pip</code> and <code>apt</code> install packages system-wide (by default); the use of <code>pip</code> will not work in Raspberry Pi and will return an error message. Use <code>pip</code> in a <a href="https://www.raspberrypi.com/documentation/computers/os.html#use-pip-with-virtual-environments">python virtual environment</a>: </p>
<pre><code class="language-bash"># per-user environment
$ python -m venv ~/.env      # create the venv
$ source ~/.env/bin/activate # start using the venv
$ deactivate                 # to leave the venv

# per-project environment
$ python -m venv env         # do this in project root folder
$ source env/bin/activate    # start using the venv
$ deactivate                 # to leave the venv
</code></pre>
<p>Pass the <code>--system-site-packages</code> flag before the folder name to preload all of the currently installed packages in your system Python installation into the virtual environment.</p>
<p>Use <code>pip list</code> to view installed packages.</p>
<h2 class="template__section" id="vscode">VScode</h2>
<p>VScode runs slowly on Raspberry Pi for the same reason that Brave Browser and Chromium initially run slow &ndash; because they use hardware acceleration.  In fact, VScode uses Chromium.  Simply disable hardware acceleration and it will work fine.</p>
<p>In the file <code>~/.vscode/argv.json</code> uncomment the line </p>
<pre><code class="language-bash">&quot;disable-hardware-acceleration&quot;: true,
</code></pre>
<p>and save.  If this line is not there for some reason, add it to the end of the file before the closing <code>}</code>, and make sure the line above it (i.e. the old last line) now ends in a comma <code>,</code>.</p>
<p>If VScode was open/running, close it, restart it, and it should work good now.</p>
<h2 class="template__section" id="mkdocs">Mkdocs</h2>
<p>When cloning a <code>mkdocs</code> repository, don&rsquo;t forget to not only install <code>mkdocs</code> but also install the theme, e.g. </p>
<pre><code class="language-bash">$ pip install mkdocs-material
</code></pre>
                <p class="outro">To suggest an edit or correction to this page, please click the "Edit this page" button below or at the top to access the source file on GitHub.</p>
                <br>
                <div class="source-button-bottom">
                  <div class="source-button-bottom-inner">
                    <a id="a" class="source-button" href="raspberry_pi_extras.md" title="View source of this page"><svg xmlns="http://www.w3.org/2000/svg" width="50px" height="50px" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"></path></svg></a>
                    <label id="b">View</label>
                  </div>
                  <div class="source-button-bottom-inner">
                    <a id="c" class="source-button" href="https://github.com/BStew00/hylowncom_site" title="Edit this page"><svg xmlns="http://www.w3.org/2000/svg" width="50px" height="50px" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"></path></svg></a>
                    <label id="d">Edit</label>
                  </div>
                </div>
              </article>
            </div>
        </div>
    </main>
    <footer class="footer">
      <!--<div><p>All content copyright Hylown</p></div>-->
      <div><a href="tou.html">Terms of Use</a></div>
      <div><a href="https://hylown.com"><img src="assets/portal.png" width="100px" height="100px"></a></div>
      <div><a href="">back to top</a></div>
    </footer>
  </div>
  <script>
    document.getElementById('Extras').classList.add('active')
  </script>
  <script src="assets/javascript/hylowncom.js"></script>
</body>
</html>